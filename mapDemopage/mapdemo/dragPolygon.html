<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Draggable Polygon Demo</title>
    <link rel="stylesheet" type="text/css" href="../lib/EzServerClient.min.css">
    <script type="text/javascript" src="../lib/EzMapAPI.js"></script>
    <script type="text/javascript" src="../lib/EzServerClient.min.js"></script>
    <style type="text/css">
    body, html {width: 100%;height: 80%;overflow: hidden;margin:0;font-family:"微软雅黑";}
    </style>
</head>
<body>
	<div id="map" style="width:100%;height:90%;"></div>
	<div>
		<span>拖拽控制: </span>
        <button id="dragstart">Begin Drag</button>
		<button id="dragend">End Drag</button>
	</div>
	
	<script type="text/javascript">
		var map = new EzMap('map');
		
		var dragstartbtn = document.getElementById("dragstart");
        var dragendbtn = document.getElementById("dragend");

        // 新建Polygon
        var coords = "116.37010574340822,39.918651580810554,116.39242172241212,39.93049621582032,116.42881393432619,39.9184799194336,116.44237518310548,39.92500305175782,116.46005630493165,39.90697860717774,116.4789390563965,39.92757797241212";
        var polygon = new Ez.g.Polygon(coords, undefined, {
            draggable: true
        });
        map.addOverlay(polygon);
		// 点击按钮开始拖拽
        dragstartbtn.addEventListener("click",function(e){
            map.draggable();
        });
        // 点击按钮结束拖拽
        dragendbtn.addEventListener("click",function(e){
            map.disdraggable();
        });
	</script>
</body>
</html>