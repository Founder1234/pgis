<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drawing Demo</title>
    <link rel="stylesheet" type="text/css" href="../lib/EzServerClient.min.css">
    <script type="text/javascript" src="../lib/EzMapAPI.js"></script>
    <script type="text/javascript" src="../lib/EzServerClient.min.js"></script>
    <style type="text/css">
    body, html {width: 100%;height: 80%;overflow: hidden;margin:0;font-family:"微软雅黑";}
    </style>
</head>
<body>
    <div id="map" style="width:100%;height:90%;"></div>
    <div>
        <button id="draw">绘制多义线</button>
    </div>
    <script>
        var map = new EzMap('map');
        // 手绘一段多义线，在结束的时候添加箭头
        document.getElementById('draw').addEventListener('click',function(evt){
            map.changeDragMode('drawPolyline',function(feature){
                // 获取要素的坐标字符串
                var coords = feature.coordString;
                var polyline = new Ez.g.Polyline(coords,{
                    'strokeColor': "#8625C5"
                });
                map.addOverlay(polyline);
                polyline.addArrowHead({
                    'fill': "#8625C5",
                    'stroke': "#8625C5",
                    'radius': 10
                });
            });
        });
    </script>
</body>
</html>
