{% extends '../views/layout.html' %} 

{% block title %}Dynamic Draw{% endblock %}

{% block code %} 
<body>
    <style type="text/css">
        .group {
            margin:2px;
            display: inline-block;
            border: 0.5px solid black;
            border-radius: 1px;
        }
    </style>
    <div id="map" style="width:100%;height:90%;"></div>
    <div>
        <div class="group">
            <span><strong>WMS图层(矢量)：</strong></span>
            <button>ADD</button>
            <button>REMOVE</button>
        </div>
        <div class="group">
            <span><strong>WMTS图层(栅格)：</strong></span>
            <button>ADD</button>
            <button>REMOVE</button>
        </div>
    </div>
    
    <script type="text/javascript">
        var map = new EzMap('map');
        
        var drawbtn = document.getElementById("drawbtn");
        drawbtn.addEventListener("click",function(){
            var selectElement = document.getElementById("drawtype");
            var type = selectElement[selectElement.selectedIndex].value;
            map.changeDragMode(type,function(/** feature为Ez.g.*要素类 */feature){
                /** 一般鼠标右键结束绘制,回调参数为动态绘制的要素,可以在回调中进行余下操作,例如，增加绘制要素到地图上. */
                map.addOverlay(feature);
            });
        });
    </script>
</body>
{% endblock %}